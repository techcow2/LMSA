/* Simplified performance optimizations - focused on what actually helps */

/* Only apply hardware acceleration to elements that actually animate */
.modal-content,
#scroll-to-bottom,
.character-card:hover {
    transform: translateZ(0);
    backface-visibility: hidden;
}

/* Apply will-change only to elements that actively animate - not static content */
.modal-content.show {
    will-change: transform, opacity;
}

.character-card:hover {
    will-change: transform;
}

/* Remove will-change after animations complete */
.modal-content:not(.show) {
    will-change: auto;
}

.character-card:not(:hover) {
    will-change: auto;
}

/* Efficient scrolling optimizations */
#messages,
#chat-history,
#sidebar,
.character-gallery-content,
.settings-content-wrapper {
    -webkit-overflow-scrolling: touch;
    touch-action: pan-y;
    overscroll-behavior: contain;
}

/* Smooth scrolling only for high-end devices */
@media (min-width: 1024px) and (pointer: fine) {
    #messages,
    #chat-history,
    #sidebar {
        scroll-behavior: smooth;
    }
}

/* Simplified animations - single duration for consistency */
.transition-optimized,
.character-card,
.modal-content,
#scroll-to-bottom,
.menu-item,
.chat-item {
    transition-duration: 0.2s;
    transition-timing-function: ease-out;
}

/* Disable complex animations on low-end devices */
@media (max-width: 480px) {
    .character-card:hover {
        transform: none !important;
    }
    
    .character-card-image img {
        transition: none !important;
    }
    
    /* Simplify shimmer effects */
    .img-placeholder {
        animation: none !important;
        background: #ececec !important;
    }
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* Simple lazy loading styles */
img[data-src] {
    opacity: 0;
    transition: opacity 0.3s ease;
}

img[data-src][src]:not([src^="data:"]) {
    opacity: 1;
}
